<html><head><title>Method Run-Pipeline [Tinaa]</title><link rel="stylesheet" href="../tinaa.css" /></head><body><div id="header"><a class="contents-link" href="../index.html" title="Go to contents">Contents</a><div class="index-links"><div class="index">Indexes:</div></div></div><div class="contents"><h2>Method Run-Pipeline</h2><div class="part-parents"><h3>Part of:</h3><a href="../elprep-package/structure-sam.html">structure sam</a></div>( <b>run-pipeline</b> &lt; input &gt; &lt; output &gt; &key )<div class="documentation">Reads a SAM data set from input, applies filters to the header and the alignments,<br>    and writes the result to output. Eventually returns the output.<br><br>    Uses *number-of-threads* to execute the pipeline in parallel. (Default: 1.)<br><br>    Accepted keywords:<br>    - :filters: A list of filters. Default is the empty list.<br>    - :destructive: Operate destructively on the input or not. One of :default (the default), false, or true.<br>    - :sorting-order: One of :keep (the default), :unsorted, :unkown, :coordinate, or :queryname.<br>    - :chunk-size: Number of alignments to read from input at a time. Default is +default-chunk-size+.<br><br>    A filter is a function that accepts zero or more arguments and returns zero or more values:<br>    - The first return value is nil or a next-level filter.<br>    - The second value is nil or a thunk to initialize filtering at the next level.<br>    - The third value is nil or a thunk to finalize filtering at the next level.<br><br>    The levels are: global, then thread-local, then local.<br><br>    For operating on SAM data sets:<br>    - A global filter receives the SAM header that it can modify.<br>      If an alignment filter is needed, the global filter needs to return a thread-local filter.<br>    - The thread-local filter receives no arguments.<br>      If an alignment filters is needed, the thread filter needs to return one.<br>    - The local filter finally receives an alignment that it can modify, and returns a boolean value,<br>      indicating whether the alignment is to be included in the final result or not.<br><br>    run-pipeline can be destructive to the input.<br>    This is indicated by the user with the :destructive keyword parameter that can have on of three values:<br>    - t: Operation is destructive.<br>    - nil: Operation is non-destructive. This may require copying of the input alignments<br>           but this only happens if there are any alignment-filters that may actually modify the alignments.<br>    - :default: Operation is destructive or non-destructive depending on what makes most sense for the given input:<br>                - For in-memory, :default means destructive.<br>                - For files, :default means non-destructive.<br>                - For databases:, :default means non-destructive.<br><br>    Specialize this generic function for new kinds of input sources.<br>    It is recommended to define two methods: One where only input is specialized, and another one where output<br>    is specialized as well for the same kind of input source, to take advantage of knowing the best way to run<br>    pipelines over the same input and output sources, and to identify cases where the pipeline has to effectively<br>    run in situ because input and output are the same.</div></div><div id="footer"><span class="date">Generated: Wed, Jul 2, 2014</span><span class="version">[Tinaa version 0.3]</span><a class="contents-link" href="../index.html" title="Go to contents">Contents</a><a id="tinaa-logo" href="http://common-lisp.net/project/tinaa/" title="Go to Tinaa home page"><img src="http://common-lisp.net/project/tinaa/images/logo.jpg" width="90" height="82" /></a></div></body></html>